function t(t,e,n,s){Object.defineProperty(t,e,{get:n,set:s,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},o=e.parcelRequire59a5;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in s){var e=s[t];delete s[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){s[t]=e},e.parcelRequire59a5=o),o.register("dRo73",(function(e,n){var s,o;t(e.exports,"register",(()=>s),(t=>s=t)),t(e.exports,"resolve",(()=>o),(t=>o=t));var r={};s=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)r[e[n]]=t[e[n]]},o=function(t){var e=r[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),o.register("dJYHt",(function(e,n){t(e.exports,"createApp",(()=>U),(t=>U=t)),t(e.exports,"createRouter",(()=>N),(t=>N=t));var s=Object.defineProperty;function o(t){if(null===t||"object"!=typeof t)return t;const e=new WeakSet;return function t(n){if(Object.isFrozen(n)||!(n instanceof Object))return n;if(e.has(n))return n;e.add(n),Object.freeze(n);for(const e of Reflect.ownKeys(n)){const s=n[e];s instanceof Object&&t(s)}return n}(t)}function r(t){return t?"object"==typeof t?JSON.parse(JSON.stringify(t)):t:t??null}function i(t,e=[],n){const s=Array.isArray(e)?e:e.split(".");let o;try{for(o=0;o<s.length-1;o++)t=t[s[o]];return void 0!==n&&(t[s[o]]=n),t[s[o]]}catch(t){}}async function a(t,e,n){return new Promise(((s,o)=>{const r=()=>{o(),n?.(),e?.removeEventListener("abort",r)};e?.addEventListener("abort",r),e?.aborted&&r(),t.then(s).catch(o)}))}async function c(t,e,n){if("function"==typeof t){const s=t();if(!(s instanceof Promise))return s;return{...(await a(s,e,n))?.default}}return{...t}}function h(t,e){for(let[n,s]of t)if(Array.isArray(s)){const o=s.indexOf(e);-1!==o&&(1===s.length?t.delete(n):s.splice(o,1))}else s===e&&t.delete(n)}function p(t,e,n=""){if(!t||"Object"!==t.constructor.name&&"Array"!==t.constructor.name)return t;const s={getPrototypeOf:t=>({target:t,instance:"Proxy"}),get:(t,s,o)=>(e.get?.(t,s,`${n}${s}`),Reflect.get(t,s,o)),set:(t,s,o,r)=>(e.beforeSet(o,`${n}${s}`,(t=>{o=t}))||Reflect.get(t,s,r)===o&&"length"!==s||(o=p(o,e,`${n}${s}.`),Reflect.set(t,s,o,r),e.set(t,o,`${n}${s}`)),!0),deleteProperty:(t,e)=>Reflect.deleteProperty(t,e),defineProperty:(t,e,n)=>Reflect.defineProperty(t,e,n)};t=r(t);for(let s in t)t.hasOwnProperty(s)&&(t[s]=p(t[s],e,`${n}${s}.`));return new Proxy(t,s)}function l(t,e,n){if(!t)return;const s=(t,e)=>{const n=Math.min(t.length,e.length);return t.slice(0,n)===e.slice(0,n)};for(let[o,r]of t)Array.isArray(r)?r.includes(e)&&o(n):s(e,r)&&o(n,e.length>r.length?e.replace(r+".",""):void 0)}var u={refs:[],collect:!1,define(t){return t&&this.refs.every((t=>t.startsWith(this.refs.at(0))))?this.refs.at(-1):[...this.refs]},clear(){this.collect=!1,this.refs.length=0}},d={};((t,e)=>{for(var n in e)s(t,n,{get:e[n],enumerable:!0})})(d,{_attr:()=>y,_class:()=>f,_event:()=>b,_text:()=>m});var f={update:(t,e,n)=>e?t.target.classList.add(n):t.target.classList.remove(n)},m={update:(t,e)=>{void 0!==e&&(t.target.textContent=e!==Object(e)?e:JSON.stringify(e))}},y={update:(t,e,n)=>{"boolean"==typeof e?e?t.target.setAttribute(n,""):t.target.removeAttribute(n):t.target.setAttribute(n,e)}},b={create:(t,e)=>{for(const n in e)t.target.addEventListener(n,e[n])},destroy:(t,e)=>{for(const n in e)t.target.removeEventListener(n,e[n])}},g=class{constructor(t,e,n,s,o){this.factory=o,this.component=t,this.app=n,this.impress=u,this.proxiesData={},this.context={app:n,container:e,options:t,phase:0,abort:()=>s.abort(),appId:()=>(n.id++,n.name+n.id),abortSignal:s.signal,node:{},param:{},method:{},proxy:{},source:t.sources||{},directives:{...d,...n.directives,...t.directives}}}async loaded(t){await(this.component.loaded?.bind(this.context)(t))}async props(){}async rendered(){"object"==typeof this.component?await(this.component.rendered?.bind(this.context)()):this.context.container.nodepath}async mounted(){await(this.component.mounted?.bind(this.context)())}async created(){await(this.component.created?.bind(this.context)())}unmounted(t){this.component.unmounted?.bind(this.context)(),delete t.unmount}refreshed(t){this.component.refreshed?.bind(this.context)(t)}methods(){if(this.component.methods)for(const[t,e]of Object.entries(this.component.methods)){if(this.context.method.hasOwnProperty(t))return void this.context.container.nodepath;this.context.method[t]=e.bind(this.context),this.component.actions?.includes(t)&&(this.context.container.action[t]=(...t)=>{const n=e.bind(this.context)(r(...t));return n instanceof Promise?n.then((t=>r(t))):r(n)})}Object.preventExtensions(this.context.container.action),Object.preventExtensions(this.context.method)}params(){if(this.component.params){for(const t in this.component.params)if(this.context.param.hasOwnProperty(t))return void this.context.container.nodepath;Object.assign(this.context.param,this.component.params)}Object.preventExtensions(this.context.param)}proxies(){if(this.component.proxies)for(const t in this.component.proxies){if(t in this.proxiesData)return void this.context.container.nodepath;this.proxiesData[t]=this.component.proxies[t]}this.context.proxy=this.getProxy(),Object.preventExtensions(this.context.proxy)}actives(t,e){l(t.reactivity?.node,e)}getProxy(){return p(this.proxiesData,{beforeSet:(t,e,n)=>{if(this.component.setters?.[e]){const s=this.component.setters[e].bind(this.context)(t);if(void 0===s)return!0;n(s)}},set:(t,e,n)=>{for(const t in this.context.node)this.actives(this.context.node[t],n,e);this.component.handlers?.[n]?.bind(this.context)(e)},get:(t,e,n)=>{this.impress.collect&&!this.impress.refs.includes(n)&&t.hasOwnProperty(e)&&this.impress.refs.push(n)}})}async nodes(){if(this.component.nodes){const t=this.component.nodes.bind(this.context)(this.context),e=this.context.container,n=e.target;for(const s in t){const o=t[s].selector||this.context.app.selectors||`.${s}`,r="function"==typeof o?o(s):o,i=n.querySelector(r)||n.matches(r)&&n,a=e.nodepath+"."+s;if(i){if(this.context.node.hasOwnProperty(s))return;const t=this.component.styles?.[s];if("string"==typeof t&&t.trim()&&(i.classList.remove(s),i.classList.add(t)),e.spot&&Object.values(e.spot).includes(i))continue;Object.assign(this.context.node,{[s]:{target:i,nodepath:a,nodename:s,action:{},prop:{},directives:{}}})}}Object.preventExtensions(this.context.node);for await(const[e,n]of Object.entries(this.context.node)){const s=this.factory(t[e],this.context,n,this.impress,this.app);await s.controller()}}}},v={init(t,e,n,s){const o=new class{constructor(t,e,n){this.props=t,this.context=e,this.container=e.container,this.app=n}async setup(t){if(!this.props.proxies||!Object.keys(this.props.proxies).length||t?.proxies)return this.context.unrelatedProxy=t=>!this.props.proxies[t]?.hasOwnProperty("_independent")||this.props.proxies[t]._independent,t?(await this.params(t.params),await this.methods(t.methods),await this.proxies(t.proxies)):void 0;this.container.nodepath}prop(t){return"function"==typeof t?t.bind(this.context)():t}validation(t,e,n,s,o){this.container.nodepath;const r=(t,e)=>t&&e&&!(typeof t===e||"array"===e&&Array.isArray(t))&&void 0,i=(t,e)=>t&&Array.isArray(e)&&!e.includes(t)&&void 0;return t[n]=s??(e.required&&void 0)??e.default??s,"string"==typeof e&&r(t[n],e),Array.isArray(e)&&i(t[n],e),function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}(e)&&(r(t[n],e.type),i(t[n],e.enum),e.validation&&e.validation.bind(this.context)(t[n])),t[n]}async proxies(t){if(t){const e={},n=this.context;for(const s in t){const o=this.prop(t[s]),a=o.store;this.container.prop[s]={update:(t,e)=>e?i(n.proxy[s],e,r(t)):this.validation(n.proxy,o,s,r(t),"proxies")};let c=null;if(this.props.proxies?.hasOwnProperty(s))c=this.props.proxies[s]?._value;else if(a){const t=await(this.app.store?.init(a));if(!t)return void this.container.nodepath;c=t.proxies(s,this.container)}this.validation(e,o,s,r(c),"proxies")}return e}}async params(t){for(const e in t){const n=this.prop(t[e]),s=n.store,o=async()=>{let t=null;if(s){const n=await(this.app.store?.init(s));if(!n)return void this.container.nodepath;t=n.params(e)}else t=this.props?.params[e];return n?.mutable?t:r(t)};this.validation(this.context.param,n,e,await o(),"params"),n.readonly&&Object.defineProperty(this.context.param,e,{writable:!1})}}async methods(t){const e=(t,e)=>{this.context.method[e]=(...e)=>{if(e.length&&(e.length>1||"object"!=typeof e.at(0)))return void this.container.nodepath;const n=t(r(e.at(0)));return n instanceof Promise?n.then((t=>r(t))):r(n)}};for(const n in t){const s=this.prop(t[n]),o=s.store;if(o){const t=await(this.app.store?.init(o));if(!t)return void this.container.nodepath;const s=t.methods(n);if(!s)return void this.container.nodepath;e(s,n)}else{const t=this.props.methods?.hasOwnProperty(n);if((s?.required||!0===s)&&!t)return void this.container.nodepath;t&&e(this.props.methods[n],n)}}}}(t,n,s);return o.setup(e)}},x=class extends g{constructor(...t){super(...t)}async props(t){this.proxiesData=await v.init(t,this.component.props,this.context,this.app)||{}}actives(t,e,n){const s=t=>{l(t.reactivity?.node,e),l(t.reactivity?.component,e,n)},o=t=>{for(const e in t.spot)s(t.spot[e]),o(t.spot[e])};s(t),t.children?t.children.forEach((t=>o(t))):o(t)}destroy(t){t.reactivity?.component?.clear(),t.prop={},t.action={};for(const e in t.unstore)t.unstore[e]()}refresh(t){if(this.context.node)for(const e of Object.values(this.context.node))if(e.unmount){for(const n in e.spot)e.spot[n].refresh?.(t);e.refresh(t)}super.refreshed(t)}unmount(t){if(this.context.node)for(const t of Object.values(this.context.node)){if(t.directives)for(const e of Object.values(t.directives))e.destroy?.();if(t.reactivity?.node?.clear(),t.unmount){for(const e in t.spot)t.spot[e].unmount?.();t.unmount()}}const{spotname:e,parent:n}=t;e&&n.refresh({cause:"spotUnmounted",data:{spotname:e}}),super.unmounted(t)}};function w(t){if(!t.mixins?.length)return t;const e=["styles","directives","params","proxies","methods","handlers","setters","sources"],n=["params","proxies","methods"],s=["loaded","rendered","created","mounted","unmounted","refreshed"],o={props:{},actions:[],spots:[]},r=[],i={},a=(t,e,n)=>({...t[n],...e[n]}),c=(t,e)=>[...t,...e||[]],h=t=>{o.template=t.template||o.template,o.actions=c(o.actions,t.actions),o.spots=c(o.spots,t.spots),e.forEach((e=>{o[e]=a(o,t,e)})),s.forEach((e=>{t[e]&&(o[e]=t[e])})),n.forEach((e=>{o.props[e]=a(o.props,t.props||{},e)})),t.nodes&&r.push(t.nodes)};return o.nodes=function(){return r.forEach((t=>{((t={},e={})=>{for(const n in e)t[n]={...t[n]||{},...e[n]}})(i,t.bind(this)())})),i},t.mixins.forEach((t=>{h(w(t))})),h(t),o}var E={directives(t){const e=this.nodeElement;if(!t.startsWith("_"))return void e.nodepath;const n=this.context.directives[t],s=this.nodeOptions[t],{create:o,update:r,destroy:i}=n;Object.assign(e.directives,{[t]:{create:()=>o?o.bind(n)(e,s):{},destroy:()=>i?i.bind(n)(e,s):{}}}),o&&e.directives[t].create();const a=(t,s,o)=>{const i=t=>r.bind(n)(e,t,s,o);"function"==typeof t?(this.impress.collect=!0,i(t(e,o)),this.reactiveNode(this.impress.define(),(()=>i(t(e,o))))):i(t)};if(r)if("object"==typeof s)for(const t in s)a(s[t],t,s);else a(s)}},O={listeners(t){"function"==typeof this.nodeOptions[t]&&(this.nodeElement.target[t]=e=>{this.nodeOptions[t].bind(this.context)(e)})},general(t){const e=e=>{null!==this.nodeElement.target[t]&&"object"==typeof this.nodeElement.target[t]?null!==e&&"object"==typeof e?Object.assign(this.nodeElement.target[t],e):this.nodeElement.nodepath:this.nodeElement.target[t]=e};if("function"==typeof this.nodeOptions[t]){const n=()=>e(this.nodeOptions[t].bind(this.context)());this.impress.collect=!0,n(),this.reactiveNode(this.impress.define(),n)}else e(this.nodeOptions[t])},native(t){t.startsWith("on")?this.listeners(t):this.general(t)}},j={async iterative(t){if("function"==typeof t.iterate){if(this.nodeElement.replaced)this.nodeElement.nodepath;else if(this.name=null,this.repeat=0,this.nodeElement.children=[],this.nodeOptions.component=t,this.nodeElement.clear=()=>this.length.bind(this)(0),this.createIterate=async e=>{this.nodeElement.children[e]=this.nodeElement._current={parent:this.nodeElement,target:!0,nodepath:this.nodeElement.nodepath+"."+e,index:e,action:{},prop:{},iterated:!0},await this.create(this.proxiesIterate.bind(this),this.nodeElement._current,t)},this.impress.collect=!0,this.data=t.iterate(),this.data){if(!Array.isArray(this.data))return void this.nodeElement.nodepath;this.name=this.impress.refs.at(-1),this.impress.clear(),"Proxy"===Object.getPrototypeOf(this.data).instance&&(this.reactiveComponent([this.name],(t=>this.length(t.length))),this.reactiveComponent([this.name+".length"],(t=>this.length(t))));const e=async()=>{this.data=t.iterate(),await this.length(this.data.length)};this.induced((async t=>t?await e():this.nodeElement.clear()))&&await e()}}else this.nodeElement.nodepath},proxiesIterate(t){const e=this.nodeElement._current;return this.reactivate(t,((t,n)=>{this.impress.refs.some((t=>t.includes(this.name)))?this.reactiveComponent(this.impress.define(t),((s,o)=>{const r=(...n)=>e.prop[t]?.update(...n);o?r(s,o):r(n(e))})):this.nodeElement.created?this.impress.clear():this.reactiveComponent(this.impress.define(t),((e,s)=>{const o=this.nodeElement.children;this.portions(o.length,0,(r=>{const i=o[r],a=(...e)=>i.prop[t]?.update(...e);s?a(e,s):a(n(i))})),this.repeat++}))}),e)},async portions(t,e,n){if(!t)return;let{portion:s}=this.nodeOptions.component,o=null,r=!1;if(e<t-s){const s=()=>{if(this.repeat>1)return this.repeat--;this.portions(t,e,n)};setTimeout((()=>r?s():new Promise((t=>o=t)).then((t=>s()))))}do{if(await n(e),e++,o&&(s=1),e>=t){this.repeat=0;break}}while(e%s!=0);r=!0,o?.()},async length(t){this.repeat++;let e=this.nodeElement.children.length;if(t>e&&await this.portions(t,e,(async t=>await this.createIterate(t))),t<e)for(;t<e;){e--;const t=this.nodeElement.children;h(this.nodeElement.reactivity.component,this.name+"."+e),t[e].unmount?.(),t[e].target.remove?.(),t.splice(e,1)}}},R={async basic(t){this.nodeOptions.component=t;const e=()=>this.create(this.proxies.bind(this),this.nodeElement,t);this.induced((async t=>t?await e():this.nodeElement.unmount?.()))&&await e()},proxies(t){if(!t)return;return this.reactivate(t,((t,e)=>this.reactiveComponent(this.impress.define(t),((n,s)=>{const o=(...e)=>this.nodeElement.prop[t]?.update(...e);s?o(n,s):o(e(this.nodeElement))}))))}},_={collect(t,e){return{params:this.params(t.params,e),methods:this.methods(t.methods)}},methods(t){const e={};if(t)for(const[n,s]of Object.entries(t))"function"==typeof s&&Object.assign(e,{[n]:s});return e},params(t,e){const n={};if(t)for(const[s,o]of Object.entries(t))Object.assign(n,{[s]:"function"==typeof o&&o.name?o(e):o});return n}},A={async component(){if(this.nodeElement.reactivity.component=new Map,this.nodeElement.iterated)return void this.nodeElement.nodepath;this.nodeElement.mount=t=>{if(!Object.keys(t).length)return;this.nodeElement.unmount?.(),this.nodeElement.created=!1;const{spotname:e,parent:n}=this.nodeElement;return e&&n.refresh({cause:"spotMounted",data:{spotname:e}}),t.iterate?this.iterative(t):this.basic(t)};const t=()=>this.nodeElement.mount(this.nodeOptions.component);this.nodeOptions.component.async?t():await t()},induced(t){if(this.nodeOptions.component.hasOwnProperty("induced")){this.nodeElement.induced=t;const e=this.nodeOptions.component.induced;if(!e)return;if("function"==typeof e){this.impress.collect=!0;const t=e();if(this.reactiveNode(this.impress.define(),(async()=>await this.nodeElement.induced(e()))),!t)return}}return!0},reactiveComponent(t,e){return this.reactive(t,e,this.nodeElement.reactivity.component)},reactivate(t,e){const n={};if(t)for(const[s,o]of Object.entries(t))if("function"==typeof o&&o.name){this.impress.collect=!0;const t=t=>o(t),r=o(this.nodeElement._current||this.nodeElement);Object.assign(n,{[s]:{_value:r,_independent:!e(s,t)}})}else Object.assign(n,{[s]:{_value:o,_independent:!0}});return n},async create(t,e,n){const{src:s,spots:o,aborted:r,completed:i}=n;if(s&&(await $(s,e,{aborted:r,completed:i,..._.collect(n,e),proxies:t(n.proxies)||{}},this.app),this.nodeElement.created=!0,o))for await(const[t,n]of Object.entries(o)){if(!e.spot?.hasOwnProperty(t)){e.nodepath;continue}const s=e.spot[t];Object.assign(s,{parent:e,nodepath:e.nodepath+"."+t,nodename:t,spotname:t,action:{},prop:{}});const o=S(n,this.context,s,this.impress,this.app);await o.controller()}}},H=class{constructor(t,e,n,s,o){this.app=o,this.nodeOptions=t,this.context=e,this.impress=s,this.nodeElement=n,this.nodeElement.reactivity={node:new Map}}reactive(t,e,n){return t?.length&&n.set(e,t),this.impress.clear(),t}reactiveNode(t,e){this.reactive(t,e,this.nodeElement.reactivity.node)}controller(){this.nodeElement.nodepath;const t="TEMPLATE"===this.nodeElement.target.tagName;this.nodeElement.replaced=t;for(const e in this.nodeOptions){if(t&&!["selector","component"].includes(e))return;if(e in this.nodeElement.target)this.native(e);else if(e in this.context.directives)this.directives(e);else{if("component"===e)return this.component?.();if("selector"!==e)return}}}};function S(...t){return Object.assign(H.prototype,O,E,j,R,A),new H(...t)}function P(t,e){const n="function"==typeof t?t.bind(e)():t,s=document.createElement("div");return s.innerHTML=n.trim().replace(/<script\b[^>]*>([\s\S]*?)<\/script>/gi,""),s.childNodes}async function L(t,e,n,s,o={}){const i=t.context;i.container.refresh=({cause:e,data:n={}})=>t.refresh(r({cause:e,data:n}));const c=[async()=>await t.loaded(),async()=>{await t.props(o),t.params(),t.methods(),t.proxies(),await t.created()},async()=>{e(),await t.rendered()},async()=>{await t.nodes(),await t.mounted()}];try{for await(const t of c)await a(t(),i.abortSignal),i.phase++}catch(t){throw n(),t}return s?.(),i.container}async function $(t,e,n={},s={}){const o=new AbortController;e.unmount=()=>o.abort();const r=()=>n.aborted?.({phase:a?a.context.phase:0,reason:o.signal.reason}),i=await c(t,o.signal,r);if(!i)return void e.nodepath;const a=new x(w(i),e,s,o,S);return await L(a,(()=>function(t,e){const n={...e.context.options},s=n.template,o=n=>{const s=P(n,e.context);if(!(s.length>1))return s;t.nodepath},r=t=>{n.spots?.length&&(t.spot={}),n.spots?.forEach((e=>Object.assign(t.spot,{[e]:{target:t.target.querySelector(`[spot="${e}"]`)}})))};if(t.iterated){const n=t.parent;if(s){const t=o(s);n.target.append(...t)}t.target=n.target.children[t.index],r(t),n.unmount||(n.unmount=()=>{e.destroy(n),n.clear()}),t.unmount=()=>{e.destroy(t),e.unmount(t),e.context.abort()}}else{if(t.replaced){const e=o(s),n=t.target;t.target.before(...e),t.target=n.previousSibling,n.remove()}else{if(!s)return;const o=P(n.template,e.context);t.target.append(...o)}r(t),t.unmount=()=>{e.destroy(t),e.unmount(t),t.target.innerHTML="",e.context.abort()}}}(e,a)),r,n.completed,n)}function U(t={}){return t.id=0,t.name||="_",t.mount=async(e,n,s)=>await $(e,{target:n,nodepath:t.name,action:{},prop:{}},s,t),Object.assign(t,{router:{},store:{}}),Object.preventExtensions(t),t}var k={init(t,e){return this.url=e,this.result={path:null,map:null,to:null},this.routeEach(t)},picker(t){if(t){const e={},n=this.result.path.match(/:\w+/g);n&&n.forEach(((t,n)=>{e[t.substring(1)]=this.result.map[n+1]}));const s={path:this.result.map.at(0)||"/",params:Object.keys(e).length?e:void 0,fullPath:this.url.href,hash:this.url.hash,query:this.url.search?Object.fromEntries(new URLSearchParams(this.url.search)):void 0,name:t.name,extra:t.extra,route:{}};"*"===t.path.slice(-1)&&(s.pathMatch=this.result.map.at(-1));for(const e in t)t[e]&&(s.route[e]=t[e]);return s.route.path=this.result.path,s}},mapping(t){const e=t.replace(/:\w+/g,"(\\w+)").replace(/\*$/,"(.*)"),n=new RegExp(`^${e}$`);return(decodeURI(this.url.pathname).toString().replace(/\/$/,"")||"/").match(n)},find(t,e){this.result.path=e,this.result.map=this.mapping(this.result.path);let n=1;for(const e in t.route.params){let s=!1,o=t.route.params[e];if(!this.result.map&&o.optional){const t=this.result.path.replace("/:"+e,"").replace(/\/$/,"");this.result.map=this.mapping(t),s=!0}if(this.result.map&&o.regex){const t=this.result.map[n];o.regex.test(t)||s||(this.result.map=null)}if(this.result.map&&o.enum){const t=this.result.map[n];o.enum.includes(t)||s||(this.result.map=null)}s||n++}},routeEach(t){let e={};for(const n of t)n.path||n.name,this.find(n,n.path),this.result.map&&(this.result.to=this.picker(n.route),e={...this.result});return!this.result.map&&e&&(this.result=e),this.result.to}};function C(t,e,n){return t&&t[n]?(e.regex&&e.regex.test(t[n]),t[n]):(e.optional,"")}function F(t){return/[<>\/&"'=]/.test(t)?encodeURIComponent(t):t}var q=function t(e,n,s={path:""}){e.forEach((e=>{if(!e.hasOwnProperty("path"))return void e.name;e.params={...s.params,...e.params},e.extra={...s.extra,...o(e.extra)},e.beforeEnter=e.beforeEnter||s.beforeEnter,e.afterEnter=e.afterEnter||s.afterEnter;const r=(s="")=>{e.children?t(e.children,n,{path:s,params:e.params,extra:e.extra,beforeEnter:e.beforeEnter,afterEnter:e.afterEnter}):n.push({name:e.name,path:s.replace(/\/$/,"")||"/",route:e})};if(r(s.path+"/"+e.path.replace(/^\/|\/$/g,"")),e.alias){const t=t=>"/"===t.charAt(0)?t:s.path+"/"+t;if(Array.isArray(e.alias))for(const n of e.alias)r(t(n));else r(t(e.alias))}}))},T=class{constructor(t,e){this.app=t,this.app.router={layouts:e.layouts||{},collection:[],push:this.push.bind(this),link:this.link.bind(this),from:null,to:null},this.routes=e.routes,this.afterEach=e.afterEach,this.beforeEach=e.beforeEach,this.beforeEnter=e.beforeEnter,this.afterEnter=e.afterEnter,this.form=null,q(this.routes,this.app.router.collection)}link(t){return function(t,e,n){let s="";if(!t)return"/";if("object"==typeof t)if((t=r(t)).query&&(t.query=r(t.query)),t.path&&t.path.startsWith("/"))s=t.path;else if(t.name){const e=n.findIndex((e=>e.name===t.name));if(-1!==e){s=n[e].path;const o=n[e].route.params;for(const e in t.params)o[e];for(const[e,n]of Object.entries(o)){const o=C(t.params,n,e);s=s.replace("/:"+e,F(o))}"*"===s.slice(-1)&&(s=s.replace(/\*$/,t.pathMatch||"")),t.query&&(s+="?"+new URLSearchParams(t.query).toString())}else t.name}else{const n=new URL(e.fullPath);if(t.params){Object.keys(e.params).length,s=e.route.path;for(const n in e.params){const o=t.params[n]||e.params[n];if(o){const e=C(t.params,o,n);s=s.replace("/:"+n,F(e))}}"*"===s.slice(-1)&&(s=s.replace(/\*$/,t.pathMatch||e.pathMatch))}else s=n.pathname;if(t.query){for(const e in t.query)""===t.query[e]?n.searchParams.delete(e):n.searchParams.set(F(e),F(t.query[e]));s+=n.search}t.hash&&("string"==typeof t.hash&&(n.hash=t.hash),s+=n.hash)}else{if("string"!=typeof t||!t.startsWith("/")){const n=new URL(t,e.fullPath);return n.pathname+n.search+n.hash}s=t}return s=s.replace(/\/$/,"").replace(/^([^/])/,"/$1"),s||"/"}(t,this.app.router.to,this.app.router.collection)}async push(t){const e=t.path||t;if("string"==typeof e&&""!==e)try{if(new URL(e).hostname!==location.hostname)return window.open(e,t.target||"_self",t.windowFeatures)}catch{}const n=this.link(t);if("string"!=typeof n)return n;const s=new URL(location.origin+n);return history[t.state?.replaced?"replaceState":"pushState"](null,null,s.href),await this.update(s,!0,t.state)}async beforeHooks(t){if(t){const e=await t(this.app.router.to,this.app.router.from,this.app);if(e)return!0!==e&&this.push(e),!0}}async afterHooks(t){t&&await t(this.app.router.to,this.app.router.from,this.app)}async update(t,e=!1,n={}){let s=null;if(await this.beforeHooks(this.beforeEach))return;const o=k.init(this.app.router.collection,t),i=o?.route;if(i){if(o.pushed=e,o.state=r(n),this.app.router.from=this.form,this.app.router.to=o,await this.beforeHooks(this.beforeEnter))return;if(await this.beforeHooks(i.beforeEnter))return;if(i.redirect){let t=i.redirect;return void("function"==typeof t?await this.push(await t(o,this.app.router.from)):await this.push(t))}if(s=await this.render(this.app.router.to),!s)return;this.form=this.app.router.to,await this.afterHooks(this.afterEnter),await this.afterHooks(i.afterEnter)}return await this.afterHooks(this.afterEach),s}},M=class extends T{constructor(...t){super(...t),this.currentLayout=null,this.current=null,this.container=null,this.rootContainer=null}async init(t){this.rootContainer=t,window.addEventListener("popstate",(()=>this.update.bind(this)(window.location))),this.rootContainer.addEventListener("click",(t=>{const e=t.target.closest("[link]");e&&(t.preventDefault(),this.push(e.getAttribute("href")))})),await this.update(window.location)}async render(t){const e=t.route,n=this.app.router.from;if(this.current&&n?.route.component!==e.component&&(this.current?.unmount?.(),this.current=null),this.currentLayout&&n?.route.layout!==e.layout&&(this.currentLayout.unmount(),this.currentLayout=null),e.layout)if(t.state.reloaded||n?.route.layout!==e.layout){if(this.currentLayout=await this.app.mount(this.app.router.layouts[e.layout],this.rootContainer),!this.currentLayout)return;if(this.container=this.rootContainer.querySelector("[router]"),!this.container)return}else this.currentLayout?.refresh?.({cause:"routerPushed"});else this.container=this.rootContainer;if(this.rootContainer.setAttribute("layout",e.layout||""),document.title=e.title||"Lesta",this.rootContainer.setAttribute("page",e.name||""),t.state.reloaded||n?.route.component!==e.component){if(window.scrollTo(0,0),this.current=await this.app.mount(e.component,this.container),this.currentLayout?.refresh?.({cause:"pageChanged"}),!this.current)return}else this.current?.refresh?.({cause:"routerPushed"});const s=window[t.hash?.slice(1)];return window.scrollTo({top:(s?.offsetTop||0)+(t.state?.top||0),left:(s?.offsetLeft||0)+(t.state?.left||0),behavior:t.state?.behavior||"auto"}),t}};function N(t,e){return new M(t,e)}})),o.register("aG9Gj",(function(t,e){t.exports=Promise.all([import("./"+o("dRo73").resolve("aTM66")),o("1lnUb")(new URL(o("dRo73").resolve("k4P68"),import.meta.url).toString()),import("./"+o("dRo73").resolve("23QgY"))]).then((()=>o("6HS7Z")))})),o.register("1lnUb",(function(t,e){var n=o("9HEw7");t.exports=n((function(t){return new Promise((function(e,n){var s=document.getElementsByTagName("link");if([].concat(s).some((function(e){return e.href===t&&e.rel.indexOf("stylesheet")>-1})))e();else{var o=document.createElement("link");o.rel="stylesheet",o.href=t,o.onerror=function(t){o.onerror=o.onload=null,o.remove(),n(t)},o.onload=function(){o.onerror=o.onload=null,e()},document.getElementsByTagName("head")[0].appendChild(o)}}))}))})),o.register("9HEw7",(function(t,e){var n={},s={},o={};function r(t){switch(t){case"preload":return s;case"prefetch":return o;default:return n}}t.exports=function(t,e){return function(n){var s=r(e);return s[n]?s[n]:s[n]=t.apply(null,arguments).catch((function(t){throw delete s[n],t}))}}})),o.register("iBTvw",(function(t,e){t.exports=Promise.all([o("1lnUb")(new URL(o("dRo73").resolve("aVtD5"),import.meta.url).toString()),import("./"+o("dRo73").resolve("5O1Og"))]).then((()=>o("cR3y3")))})),o.register("9C8SW",(function(t,e){t.exports=Promise.all([o("1lnUb")(new URL(o("dRo73").resolve("GR7zz"),import.meta.url).toString()),import("./"+o("dRo73").resolve("in30e"))]).then((()=>o("5X7vs")))})),o.register("052v3",(function(t,e){t.exports=Promise.all([o("1lnUb")(new URL(o("dRo73").resolve("GR7zz"),import.meta.url).toString()),import("./"+o("dRo73").resolve("aTM66")),o("1lnUb")(new URL(o("dRo73").resolve("c8Ueg"),import.meta.url).toString()),import("./"+o("dRo73").resolve("i2JOD"))]).then((()=>o("5fCTu")))})),o.register("dwVZ0",(function(t,e){t.exports=Promise.all([o("1lnUb")(new URL(o("dRo73").resolve("k4P68"),import.meta.url).toString()),o("1lnUb")(new URL(o("dRo73").resolve("ct5AI"),import.meta.url).toString()),import("./"+o("dRo73").resolve("bAWco"))]).then((()=>o("j5AKw")))})),o.register("8Zaie",(function(t,e){t.exports=import("./"+o("dRo73").resolve("l1pYY")).then((()=>o("7UL1H")))})),o("dRo73").register(JSON.parse('{"kh1xT":"index.0d2329ed.js","23QgY":"ladder.802a172a.js","k4P68":"ladder.f0e4601b.css","hAiHn":"link.5a63a6f4.svg","aTM66":"ladder.0e0857bd.js","5O1Og":"404.4d55da43.js","dtdAm":"404.66159567.svg","aVtD5":"404.463e36a7.css","in30e":"home.d300bafb.js","88R98":"rostec.d77b11c1.svg","GR7zz":"home.500946d8.css","5s2h1":"mudra.5d8abba3.svg","i2JOD":"sponsors.ca4fb72d.js","dKhZn":"men.dcc5bba7.svg","c8Ueg":"sponsors.5eb1ec57.css","bAWco":"base.f744c8c1.js","fDoZK":"logo.9668feab.svg","ct5AI":"base.b063eccc.css","l1pYY":"empty.d16ef099.js","c70vN":"index.f1cf3212.css"}'));var r=o("dJYHt"),i={defaultLocal:"en",locales:["ru","en"],userLocal(){const t=window.navigator.language.substr(0,2).toLowerCase();return this.supported(t)?t:null},supported(t){return this.locales.includes(t)},persisted(){const t=localStorage.getItem("locale");return this.supported(t)?t:null},guess(){return this.persisted()||this.userLocal()||this.defaultLocal},setUserLocal(t){this.supported(t)&&localStorage.setItem("locale",t)}};const a=()=>o("aG9Gj");var c=[{path:"/*",name:"404",layout:"base",component:()=>o("iBTvw")},{path:"/",name:"home",layout:"base",component:()=>o("9C8SW")},{path:"/:locale",params:{locale:{regex:/^[a-z]{2}$/,optional:!0,enum:["en","ru"]}},beforeEnter(t,e,n){const s=t.params.locale;if(s)i.setUserLocal(s);else if(i.persisted()!==i.defaultLocal)return{params:{locale:i.guess()},replaced:!0,query:!0,hash:!0}},children:[{path:"/basic",name:"basic",component:a,extra:{content:t=>`https://cdn.jsdelivr.net/gh/lestajs/translation@main/${t}/basic.md`,edit:t=>`https://github.com/lestajs/translation/blob/main/${t}/basic.md`}},{path:"/store",name:"store",component:a,extra:{content:t=>`https://cdn.jsdelivr.net/gh/lestajs/translation@main/${t}/store.md`,edit:t=>`https://github.com/lestajs/translation/blob/main/${t}/store.md`}},{path:"/router",name:"router",component:a,extra:{content:t=>`https://cdn.jsdelivr.net/gh/lestajs/translation@main/${t}/router.md`,edit:t=>`https://github.com/lestajs/translation/blob/main/${t}/router.md`}},{path:"/utils",name:"utils",component:a,extra:{content:t=>`https://cdn.jsdelivr.net/gh/lestajs/translation@main/${t}/utils.md`,edit:t=>`https://github.com/lestajs/translation/blob/main/${t}/utils.md`}},{path:"/tutorial",name:"tutorial",component:a,extra:{content:t=>`https://cdn.jsdelivr.net/gh/lestajs/translation@main/${t}/tutorial.md`,edit:t=>`https://github.com/lestajs/translation/blob/main/${t}/tutorial.md`}}]},{path:"/sponsors",name:"sponsors",layout:"base",component:()=>o("052v3")}],h={base:()=>o("dwVZ0"),empty:()=>o("8Zaie")};const p=document.querySelector(".loader"),l=(0,r.createApp)({version:"v0.0.1"});(0,r.createRouter)(l,{routes:c,layouts:h,beforeEach(){p.classList.add("lstSpinner")},afterEnter(){p.classList.remove("lstSpinner")}}).init(document.querySelector("#root"));